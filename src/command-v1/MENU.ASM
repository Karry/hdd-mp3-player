;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
                  ;prvni stranka
;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
HLASKA_PREPRCAVAC
    call LCD_1RADEK
	MOVLW '<'
	CALL ZAPISD
	MOVLW '<'
	CALL ZAPISD
    MOVLW '<'
	CALL ZAPISD
	MOVLW 'M'
	CALL ZAPISD
	MOVLW 'P'
	CALL ZAPISD
	MOVLW '3'
	CALL ZAPISD
	MOVLW ' '
    CALL ZAPISD
	MOVLW 'p'
	CALL ZAPISD
	MOVLW 'r'
	CALL ZAPISD
	MOVLW 'e'
	CALL ZAPISD
	MOVLW 'p'
	CALL ZAPISD
	MOVLW 'r'
	CALL ZAPISD
	MOVLW 'c'
	CALL ZAPISD
	MOVLW 'a'
	CALL ZAPISD
	MOVLW 'v'
	CALL ZAPISD
	MOVLW 'a'
	CALL ZAPISD
	MOVLW 'c'
	CALL ZAPISD
	MOVLW '>'
	CALL ZAPISD
	MOVLW '>'
	CALL ZAPISD
    MOVLW '>'
	CALL ZAPISD
	RETURN
;;;;;;;;;;;;;;;;;;;;;
HLASKA_AUTORI
	call LCD_3RADEK
	MOVLW ' '
	CALL ZAPISD
	MOVLW ' '
	CALL ZAPISD
	MOVLW 'K'
	CALL ZAPISD
	MOVLW 'A'
	CALL ZAPISD
	MOVLW 'R'
	CALL ZAPISD
	MOVLW 'R'
	CALL ZAPISD
	MOVLW 'Y'
	CALL ZAPISD
	MOVLW ' '
	CALL ZAPISD
	MOVLW ' '
	CALL ZAPISD
	MOVLW '&'
	CALL ZAPISD
	MOVLW ' '
	CALL ZAPISD
	MOVLW ' '
	CALL ZAPISD
	MOVLW 'B'
	CALL ZAPISD
	MOVLW 'O'
	CALL ZAPISD
	MOVLW 'G'
	CALL ZAPISD
	MOVLW 'A'
	CALL ZAPISD
	RETURN

;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
                  ;MENU cekam na disk
;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
HLASKA_DISK
	call LCD_2RADEK
	MOVLW 'c'
	CALL ZAPISD
	MOVLW 'e'
	CALL ZAPISD
    MOVLW 'k'
	CALL ZAPISD
	MOVLW 'a'
	CALL ZAPISD
	MOVLW 'm'
	CALL ZAPISD
	MOVLW ' '
	CALL ZAPISD
	MOVLW 'n'
    CALL ZAPISD
	MOVLW 'a'
	CALL ZAPISD
	MOVLW ' '
	CALL ZAPISD
	MOVLW 'd'
	CALL ZAPISD
	MOVLW 'i'
	CALL ZAPISD
	MOVLW 's'
	CALL ZAPISD
	MOVLW 'k'
	CALL ZAPISD
	MOVLW '.'
	CALL ZAPISD
    call ZPOZ_300MS
	MOVLW '.'
	CALL ZAPISD
    call ZPOZ_300MS
	MOVLW '.'
	CALL ZAPISD
    call ZPOZ_300MS
	MOVLW '.'
	CALL ZAPISD
    call ZPOZ_300MS
	RETURN

HLASKA_DISKOK
	call LCD_3RADEK
	MOVLW 'D'
	CALL ZAPISD
	MOVLW 'I'
	CALL ZAPISD
	MOVLW 'S'
	CALL ZAPISD
	MOVLW 'K'
	CALL ZAPISD
	MOVLW ' '
	CALL ZAPISD
	MOVLW 'O'
	CALL ZAPISD
	MOVLW 'K'
	CALL ZAPISD
    RETURN
HLASKA_CHYBA
	call LCD_3RADEK
	MOVLW 'E'
	CALL ZAPISD
	MOVLW 'R'
	CALL ZAPISD
	MOVLW 'R'
	CALL ZAPISD
	MOVLW 'O'
	CALL ZAPISD
	MOVLW 'R'
	CALL ZAPISD
    RETURN		
;-----------------------------------------------------
HLASKA_VICODDILU	
	call LCD_1RADEK
	MOVLW 'd'
	CALL ZAPISD
	MOVLW 'i'
	CALL ZAPISD
	MOVLW 's'
	CALL ZAPISD
	MOVLW 'k'
	CALL ZAPISD
	MOVLW ' '
	CALL ZAPISD
	MOVLW 'o'
	CALL ZAPISD
	MOVLW 'b'
	CALL ZAPISD
	MOVLW 's'
	CALL ZAPISD
	MOVLW 'a'
	CALL ZAPISD
	MOVLW 'h'
	CALL ZAPISD
	MOVLW 'u'
	CALL ZAPISD
	MOVLW 'j'
	CALL ZAPISD
	MOVLW 'e'
	CALL ZAPISD
	call LCD_2RADEK

	MOVLW 'v'
	CALL ZAPISD
	MOVLW 'i'
	CALL ZAPISD
	MOVLW 'c'
	CALL ZAPISD
	MOVLW 'e'
	CALL ZAPISD
	MOVLW ' '
	CALL ZAPISD
	MOVLW 'o'
	CALL ZAPISD
	MOVLW 'd'
	CALL ZAPISD
	MOVLW 'd'
	CALL ZAPISD
	MOVLW 'i'
	CALL ZAPISD
	MOVLW 'l'
	CALL ZAPISD
	MOVLW 'u'
	CALL ZAPISD
	MOVLW '!'
	CALL ZAPISD
	nop
	goto $-1
    RETURN	


HLASKA_CHYBAODDILU
    call LCD_3RADEK
	MOVLW 'C'
	CALL ZAPISD
	MOVLW 'H'
	CALL ZAPISD
	MOVLW 'Y'
	CALL ZAPISD
	MOVLW 'B'
	CALL ZAPISD
	MOVLW 'A'
	CALL ZAPISD
	MOVLW ' '
	CALL ZAPISD
	MOVLW 'O'
	CALL ZAPISD
	MOVLW 'D'
	CALL ZAPISD
	MOVLW 'D'
	CALL ZAPISD
	MOVLW 'I'
	CALL ZAPISD
	MOVLW 'L'
	CALL ZAPISD
	MOVLW 'U'
	CALL ZAPISD
	MOVLW ' '
	CALL ZAPISD
	NOP
	GOTO $-1
   

;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
JMENODISKU
	movlw .1
	CALL WR_USART
	CALL RD_USART
	movwf TMP2
	BTFSC TMP2,7
	CALL HLASKA_DISKOK
	BTFSS TMP2,7
	CALL HLASKA_CHYBA

	call LCD_4RADEK
	movlw .20             ;prijem jmena disku
	movwf TMP1
	CALL RD_USART
	CALL ZAPISD
    decfsz TMP1,f
    GOTO $-3
    
   	movlw .20   
	movwf TMP1
	call USART_PRESKOC       

	BTFSC TMP2,7
	RETURN
 	call ZPOZ_1S
	call ZPOZ_1S
	call ZPOZ_1S
	call SMAZ_LCD
;HLASKA_ERRORDISK
	call LCD_2RADEK
	MOVLW ' '
	CALL ZAPISD
    MOVLW ' '
	CALL ZAPISD
	MOVLW ' '
	CALL ZAPISD
	MOVLW ' '
	CALL ZAPISD
	MOVLW ' '
	CALL ZAPISD
	MOVLW 'H'
	CALL ZAPISD
	MOVLW 'D'
	CALL ZAPISD
    MOVLW 'D'
	CALL ZAPISD
	MOVLW ' '
	CALL ZAPISD
	MOVLW 'E'
	CALL ZAPISD
	MOVLW 'R'
	CALL ZAPISD
	MOVLW 'R'
    CALL ZAPISD
	MOVLW 'O'
	CALL ZAPISD
	MOVLW 'R'
	CALL ZAPISD
JMENODISKU_SPATNY
	GOTO JMENODISKU_SPATNY
    
;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
                  ;MENU NASTAVENI
;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
menu_1
	call LCD_1RADEK
 	MOVLW 'M'
	CALL ZAPISD
	MOVLW 'E'
	CALL ZAPISD
	MOVLW 'N'
	CALL ZAPISD
	MOVLW 'U'
	CALL ZAPISD
	MOVLW ' '
	CALL ZAPISD
	MOVLW '1'
	CALL ZAPISD
	MOVLW '/'
	CALL ZAPISD
	MOVLW '2'
	CALL ZAPISD
;;;;;;;;;;;;;;;;;;;
	call LCD_2RADEK

 	MOVLW ' '
	CALL ZAPISD
	MOVLW ' '
	CALL ZAPISD
	MOVLW 'Z'
	CALL ZAPISD
	MOVLW 'P'
	CALL ZAPISD
	MOVLW 'E'
	CALL ZAPISD
	MOVLW 'T'
	CALL ZAPISD
;;;;;;;;;;;;;;;;;;;;
	call LCD_3RADEK
   	MOVLW ' '
	CALL ZAPISD
	MOVLW ' '
	CALL ZAPISD
	MOVLW 'p'
	CALL ZAPISD
	MOVLW 'o'
	CALL ZAPISD
	MOVLW 'd'
	CALL ZAPISD
	MOVLW 's'
	CALL ZAPISD
	MOVLW 'v'
	CALL ZAPISD
	MOVLW 'i'
	CALL ZAPISD
	MOVLW 'c'
	CALL ZAPISD
	MOVLW 'e'
	CALL ZAPISD
	MOVLW 'n'
	CALL ZAPISD
	MOVLW 'i'
	CALL ZAPISD
	MOVLW ' '
	CALL ZAPISD
	MOVLW 'L'
	CALL ZAPISD
	MOVLW 'C'
	CALL ZAPISD
	MOVLW 'D'
	CALL ZAPISD
	
;;;;;;;;;;;;;;;;;;;
	call LCD_4RADEK
 	MOVLW ' '
	CALL ZAPISD
	MOVLW ' '
	CALL ZAPISD
	MOVLW 'p'
	CALL ZAPISD
	MOVLW 'o'
	CALL ZAPISD
	MOVLW 'd'
	CALL ZAPISD
	MOVLW 's'
	CALL ZAPISD
	MOVLW 'v'
	CALL ZAPISD
	MOVLW 'i'
	CALL ZAPISD
	MOVLW 'c'
	CALL ZAPISD
	MOVLW 'e'
	CALL ZAPISD
	MOVLW 'n'
	CALL ZAPISD
	MOVLW 'i'
	CALL ZAPISD
	MOVLW ' '
	CALL ZAPISD
	MOVLW 't'
	CALL ZAPISD
	MOVLW 'l'
	CALL ZAPISD
	;call ZPOZ_1S
	;call ZPOZ_1S
	;call ZPOZ_1S
	;call ZPOZ_1S
	;call ZPOZ_1S
	;call ZPOZ_1S
 	;call SMAZ_LCD
	return
;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
menu_2
    call LCD_1RADEK
 	MOVLW 'M'
	CALL ZAPISD
	MOVLW 'E'
	CALL ZAPISD
	MOVLW 'N'
	CALL ZAPISD
	MOVLW 'U'
	CALL ZAPISD
	MOVLW ' '
	CALL ZAPISD
	MOVLW '2'
	CALL ZAPISD
	MOVLW '/'
	CALL ZAPISD
	MOVLW '2'
	CALL ZAPISD
;;;;;;;;;;;;;;;;;;;
	call LCD_2RADEK
 	MOVLW ' '
	CALL ZAPISD
    MOVLW ' '
	CALL ZAPISD	
    MOVLW 'v'
	CALL ZAPISD
	MOVLW 'y'
	CALL ZAPISD
	MOVLW 'v'
	CALL ZAPISD
	MOVLW 'a'
	CALL ZAPISD
	MOVLW 'z'
	CALL ZAPISD
	MOVLW 'e'
	CALL ZAPISD
	MOVLW 'n'
	CALL ZAPISD
	MOVLW 'i'
	CALL ZAPISD
;;;;;;;;;;;;;;;;;;;;;;;
	call LCD_3RADEK
 	MOVLW ' '
	CALL ZAPISD
	MOVLW ' '
	CALL ZAPISD
	MOVLW 'b'
	CALL ZAPISD
	MOVLW 'a'
	CALL ZAPISD
	MOVLW 's'
	CALL ZAPISD
	MOVLW 'y'
	CALL ZAPISD
	call ZPOZ_1S
	call ZPOZ_1S
	call ZPOZ_1S
	call ZPOZ_1S
	call ZPOZ_1S
	call ZPOZ_1S
	call SMAZ_LCD

;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
          ;PROCEDURY PRO OBSLUHU ZALOZEK V MENU
;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
podsviceni_LCD
	btfss LCD_PODSVICENI
	goto  $+2
	bcf	  LCD_PODSVICENI	
	;;
	call  LCD_3RADEK
	MOVLW ' '
	CALL ZAPISD
	MOVLW ' '
	CALL ZAPISD
	MOVLW 'p'
	CALL ZAPISD
	MOVLW 'o'
	CALL ZAPISD
	MOVLW 'd'
	CALL ZAPISD
	MOVLW 's'
	CALL ZAPISD
	MOVLW 'v'
	CALL ZAPISD
	MOVLW 'i'
	CALL ZAPISD
	MOVLW 'c'
	CALL ZAPISD
	MOVLW 'e'
	CALL ZAPISD
	MOVLW 'n'
	CALL ZAPISD
	MOVLW 'i'
	CALL ZAPISD
	MOVLW ' '
	CALL ZAPISD
	MOVLW 'L'
	CALL ZAPISD
	MOVLW 'C'
	CALL ZAPISD
	MOVLW 'D'
	CALL ZAPISD
	MOVLW ' '
	CALL ZAPISD	
	MOVLW 'O'
	CALL ZAPISD
	MOVLW 'F'
	CALL ZAPISD
	MOVLW 'F'
    CALL ZAPISD
	;;
	return
	bsf	  LCD_PODSVICENI
	;;
	call  LCD_3RADEK
	MOVLW ' '
	CALL ZAPISD
	MOVLW ' '
	CALL ZAPISD
	MOVLW 'p'
	CALL ZAPISD
	MOVLW 'o'
	CALL ZAPISD
	MOVLW 'd'
	CALL ZAPISD
	MOVLW 's'
	CALL ZAPISD
	MOVLW 'v'
	CALL ZAPISD
	MOVLW 'i'
	CALL ZAPISD
	MOVLW 'c'
	CALL ZAPISD
	MOVLW 'e'
	CALL ZAPISD
	MOVLW 'n'
	CALL ZAPISD
	MOVLW 'i'
	CALL ZAPISD
	MOVLW ' '
	CALL ZAPISD
	MOVLW 'L'
	CALL ZAPISD
	MOVLW 'C'
	CALL ZAPISD
	MOVLW 'D'
	CALL ZAPISD
	MOVLW ' '
	CALL ZAPISD	
	MOVLW 'O'
	CALL ZAPISD
	MOVLW 'N'
	CALL ZAPISD
	MOVLW ' '
    CALL ZAPISD
	;;
	return


;;;;;;;;;;;;;;;;;;
podsviceni_TL
	btfss TL_PODSVICENI
	goto  $+2
	bcf	  TL_PODSVICENI
    ;;
    call LCD_4RADEK
 	MOVLW ' '
	CALL ZAPISD
	MOVLW ' '
	CALL ZAPISD
	MOVLW 'p'
	CALL ZAPISD
	MOVLW 'o'
	CALL ZAPISD
	MOVLW 'd'
	CALL ZAPISD
	MOVLW 's'
	CALL ZAPISD
	MOVLW 'v'
	CALL ZAPISD
	MOVLW 'i'
	CALL ZAPISD
	MOVLW 'c'
	CALL ZAPISD
	MOVLW 'e'
	CALL ZAPISD
	MOVLW 'n'
	CALL ZAPISD
	MOVLW 'i'
	CALL ZAPISD
	MOVLW ' '
	CALL ZAPISD
	MOVLW 't'
	CALL ZAPISD
	MOVLW 'l'
	CALL ZAPISD
	MOVLW ' '
	CALL ZAPISD
	MOVLW ' '
	CALL ZAPISD
	MOVLW 'O'
	CALL ZAPISD
	MOVLW 'F'
	CALL ZAPISD
	MOVLW 'F'
	CALL ZAPISD
	;;
	return
	bsf	  TL_PODSVICENI
	;;
	call LCD_4RADEK
 	MOVLW ' '
	CALL ZAPISD
	MOVLW ' '
	CALL ZAPISD
	MOVLW 'p'
	CALL ZAPISD
	MOVLW 'o'
	CALL ZAPISD
	MOVLW 'd'
	CALL ZAPISD
	MOVLW 's'
	CALL ZAPISD
	MOVLW 'v'
	CALL ZAPISD
	MOVLW 'i'
	CALL ZAPISD
	MOVLW 'c'
	CALL ZAPISD
	MOVLW 'e'
	CALL ZAPISD
	MOVLW 'n'
	CALL ZAPISD
	MOVLW 'i'
	CALL ZAPISD
	MOVLW ' '
	CALL ZAPISD
	MOVLW 't'
	CALL ZAPISD
	MOVLW 'l'
	CALL ZAPISD
	MOVLW ' '
	CALL ZAPISD
	MOVLW ' '
	CALL ZAPISD
	MOVLW ' '
	CALL ZAPISD
	MOVLW 'O'
	CALL ZAPISD
	MOVLW 'N' 
	CALL ZAPISD
	return

;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
                  ;MENU pohyb
;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
sipka_1                 ;sipka na druhem radku menu1
  call menu_1
  call LCD_2RADEK
  MOVLW '>'
  CALL ZAPISD
  return

sipka_2                 ;sipka na tretim radku menu1
  call menu_1
  call LCD_3RADEK
  MOVLW '>'
  CALL ZAPISD
  return

sipka_4                ;sipka na druhem radku menu2
  call menu_2
  call LCD_2RADEK
  MOVLW '>'
  CALL ZAPISD
  return
sipka_3                ;sipka na ctvrtem radku menu1
  call menu_1
  call LCD_4RADEK
  MOVLW '>'
  CALL ZAPISD
  return

sipka_04                ;sipka na druhem radku menu2
  call menu_2
  call LCD_2RADEK
  MOVLW '>'
  CALL ZAPISD
  return

sipka_5                ;sipka na tretim radku menu2
  call menu_2
  call LCD_3RADEK
  MOVLW '>'
  CALL ZAPISD
  return


;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
   ;takovejch promrdanej hodin k hovnu              
;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
